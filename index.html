<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Vinyl Spin Puzzle</title>

<!-- React + Babel -->
<script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<style>
  /* —— responsive overall size —— */
  :root{ --disc:320px; }
  @media(max-width:480px){ :root{ --disc:240px; } }

  /* —— layout —— */
  body{margin:0;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;
       font-family:Arial,Helvetica,sans-serif;background:#f3f4f6;}
  h1{font-size:clamp(18px,4vw,22px);margin-bottom:clamp(18px,5vw,28px);color:#333}

  #stage{position:relative;width:var(--disc);height:var(--disc);}

  .ring{
    position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(var(--angle));
    background-image:var(--art);background-size:var(--disc) var(--disc);background-position:center;
    border-radius:50%;cursor:pointer;transition:transform .25s ease;
  }
  .ring[data-i="0"]{width:100%; height:100%; z-index:1;}
  .ring[data-i="1"]{width:80%;  height:80%;  z-index:2;}
  .ring[data-i="2"]{width:60%;  height:60%;  z-index:3;}
  .ring[data-i="3"]{width:40%;  height:40%;  z-index:4;}

  #reward{margin-top:clamp(22px,6vw,36px);text-align:center;}
  #reward a{display:inline-block;padding:12px 24px;background:#111;color:#fff;border-radius:8px;
            text-decoration:none;font-size:clamp(14px,4vw,16px);}
</style>
</head>
<body>
<h1>Spin each ring to align the vinyl art</h1>
<div id="root"></div>

<script type="text/babel">
/* —— CONFIG —— */
const ART   = 'public/assets/IMG_4557.jpeg';          // artwork
const LINK  = 'https://example.com/your-reward';      // reward URL
const RINGS = [0,1,2,3];                              // 4 rings
const STEP  = 90;                                     // degrees per tap

function Ring({idx,angle,onSpin}){
  return(
    <div className="ring"
         data-i={idx}
         style={{'--angle':`${angle}deg`,'--art':`url(${ART})`}}
         onClick={onSpin}/>
  );
}

function App(){
  // random start angles (0,90,180,270)
  const rand = ()=>STEP*Math.floor(Math.random()*4);
  const [angles,setAngles]=React.useState(()=>RINGS.map(rand));

  const solved = angles.every(a=>a===0);

  const spin = idx =>{
    if(solved) return;
    const next=[...angles]; next[idx]=(next[idx]+STEP)%360;
    setAngles(next);
  };

  return(
    <>
      <div id="stage">
        {RINGS.map(i=>(
          <Ring key={i} idx={i} angle={angles[i]} onSpin={()=>spin(i)}/>
        ))}
      </div>

      {solved && (
        <div id="reward">
          <p>Puzzle solved! Grab your reward:</p>
          <a href={LINK} target="_blank" rel="noopener noreferrer">
            Claim Reward →
          </a>
        </div>
      )}
    </>
  );
}

ReactDOM.render(<App/>,document.getElementById('root'));
</script>
</body>
</html>
